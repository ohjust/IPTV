//1ã€å¤©ä¹¦ç‰ˆ5.0ç»ˆæç‰ˆ
//2ã€æ”¯æŒåä»£å¼€å…³ï¼Œç§é’¥å¼€å…³ï¼Œå…¨å±€åˆ†æ®µå¼€å…³ï¼Œè®¢é˜…éšè—å¼€å…³åŠŸèƒ½ï¼Œå»é™¤UUIDé™åˆ¶ï¼Œclashç§é’¥é˜²æ­¢è¢«è–…è¯·æ±‚æ•°
//3ã€åˆå†é‡æ–°ä¿®æ”¹äº†æ¥å£å…³é—­é€»è¾‘ï¼Œé™ä½è¯·æ±‚æ•°ï¼ˆè¯·æ±‚æ•°å¤§å¹…åº¦é™ä½ï¼‰å’Œé”™è¯¯ç‡ï¼ˆworkerå¼•å‘å¼‚å¸¸ä¸º0ï¼Œè‡³å°‘æˆ‘æµ‹è¯•çš„æ˜¯ï¼‰
//4ã€ä¿®æ”¹ä¼ è¾“æ–¹å¼ï¼Œå¢åŠ åˆ†ç‰‡ä¼ è¾“ï¼Œå¯æå‡ä¼ è¾“ç¨³å®šæ€§
//5ã€æ”¯æŒSOCKS5ï¼Œæ”¯æŒå¤–éƒ¨ç¯å¢ƒå˜é‡ï¼Œå˜é‡åã€SOCKS5ã€‘ï¼Œåªæ”¯æŒä¸€ä¸ªSOCKS5ï¼Œå¹¶ä¸”SOCKS5å’ŒåŸå§‹åä»£åªèƒ½äºŒé€‰ä¸€ï¼Œå»ºè®®æœ‰ç¨³å®šSOCKS5çš„äººä½¿ç”¨ï¼Œç™½å«–ç©å®¶ä¸å»ºè®®ä½¿ç”¨ï¼Œä¸ºäº†æ–¹ä¾¿åˆ‡æ¢å¢åŠ äº†ä¸€ä¸ªå¤–éƒ¨å˜é‡ã€SOCKS5OPENã€‘ï¼Œtrueæ‰“å¼€å’Œfalseå…³é—­
//6ã€æ”¯æŒå¤šåä»£ï¼Œæ”¯æŒå¤–éƒ¨ç¯å¢ƒå˜é‡ï¼Œå˜é‡åã€PROXYIPã€‘ï¼Œæ¯è¡Œä¸€ä¸ªï¼Œæ— é™å°è¯•é€»è¾‘ï¼ˆWORKERå“åº”éƒ½æ˜¯æ¯«ç§’çº§çš„ï¼Œå‡ ä¹æ„Ÿè§‰ä¸åˆ°åä»£åˆ‡æ¢çš„å½±å“ï¼‰ï¼Œç›´åˆ°è¿ä¸Šäº†æˆ–è€…æ‰€æœ‰åä»£éƒ½æ— æ•ˆï¼Œä¼˜å…ˆæ¬¡åºæ˜¯ã€è„šæœ¬å†…éƒ¨å®šä¹‰çš„åä»£IP--å¤–éƒ¨ç¯å¢ƒå˜é‡å®šä¹‰çš„PROXYIPã€‘
//7ã€å¤šåä»£åŠŸèƒ½å¾ˆæ–¹ä¾¿ï¼Œä½†å‰ææ˜¯ä½ çš„åä»£è´¨é‡å¿…é¡»å¾—å¥½ï¼Œå¯ä»¥æŠŠè‡ªå·±æ”¶é›†æ¥çš„å„è·¯é è°±å¤§ä½¬çš„åä»£éƒ½ä¸¢è¿›å»ï¼Œé™¤éå¤§ä½¬å…¨æ²¡äº†ï¼Œä¸ç„¶å‡ ä¹ä¸ç”¨è€ƒè™‘åä»£é—®é¢˜ï¼Œæœ‰VPSçš„åŒå­¦å°±æ›´æ–¹ä¾¿äº†ï¼Œä¸€ä¸ªVPSæŒ‚äº†è¿˜èƒ½å¤‡å¦ä¸€ä¸ª^_^
//8ã€ä¸ç”¨åœ¨æ„é‚£äº›å¥‡æ€ªçš„å˜é‡åï¼Œæ ¹æ®åé¢æ³¨é‡Šçš„å¤‡æ³¨å»æ”¹ï¼Œå¤§æ¦‚ä¹Ÿå°±å‰50è¡Œçœ‹ä¸€ä¸‹å¤‡æ³¨å°±è¡Œï¼Œclashé…ç½®åœ¨åº•éƒ¨ï¼Œæ‡‚çš„å¯ä»¥æ ¹æ®è‡ªèº«éœ€æ±‚ä¿®æ”¹
//9ã€çº¯æ‰‹æ“é…ç½®ï¼Œå»é™¤ä»»ä½•APIå¤–é“¾ï¼Œç›´æ¥æ”¹å¥½äº†éƒ¨ç½²å°±è¡Œï¼Œè¿™æ ·å®‰å…¨æ€§å²æ— å‰ä¾‹
//10ã€é€šç”¨è®¢é˜…ä¸æ”¯æŒç§é’¥åŠŸèƒ½ï¼Œä½¿ç”¨é€šç”¨è®¢é˜…éœ€å…³é—­ç§é’¥åŠŸèƒ½å†è®¢é˜…èŠ‚ç‚¹ï¼ŒCFä¸æ”¯æŒè‡ªèº«1.1.1.1çš„DNSè§£æï¼Œå¦‚æœæ— æ³•è¿é€šå¯ä»¥æ£€æŸ¥å®¢æˆ·ç«¯DNSè®¾ç½®
//11ã€ç”±äºæœ¬äººä»…ä½¿ç”¨openclashå’Œclash metaï¼Œå…¶ä»–å¹³å°è½¯ä»¶å‡æœªæµ‹è¯•ï¼Œè¯·è‡ªè¡Œæµ‹è¯•ç ”ç©¶ï¼Œè¦æ˜¯ä¸èƒ½ç”¨å°±ç®—äº†ï¼Œä¸è´Ÿè´£æ”¹è¿›ï¼Œç»§ç»­æ¦‚ä¸è´Ÿè´£^_^
//12ã€ç”±äºæœ¬äººçº¯èœï¼Œå¾ˆå¤šä»£ç è§£é‡Šéƒ½æ˜¯æ ¹æ®è‡ªå·±çš„ç†è§£çç¼–çš„ï¼Œä¸“ä¸šçš„æ— è§†å°±å¥½ï¼Œå•çº¯ä¸ºäº†å¸®åŠ©å°ç™½ç†è§£ä»£ç å¤§è‡´åŸç†^_^

import { connect } from 'cloudflare:sockets';

let å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š = "btpp"; //å®é™…ä¸Šè¿™æ˜¯ä½ çš„è®¢é˜…è·¯å¾„ï¼Œæ”¯æŒä»»æ„å¤§å°å†™å­—æ¯å’Œæ•°å­—ï¼Œ[åŸŸå/ID]è¿›å…¥è®¢é˜…é¡µé¢
let å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥ = "2b5bb5a8-a33f-4df2-a715-9f805a7d8ca5"; //è¿™æ˜¯çœŸå®çš„UUIDï¼Œä¼šè¿›è¡ŒéªŒè¯ï¼Œå»ºè®®ä¿®æ”¹ä¸ºè‡ªå·±çš„è§„èŒƒåŒ–UUID

let ç§é’¥å¼€å…³ = false //æ˜¯å¦å¯ç”¨ç§é’¥åŠŸèƒ½ï¼Œtrueå¯ç”¨ï¼Œfalseä¸å¯ç”¨ï¼Œå› ä¸ºç§é’¥åŠŸèƒ½åªæ”¯æŒclashï¼Œå¦‚æœæ‰“ç®—ä½¿ç”¨é€šç”¨è®¢é˜…åˆ™éœ€å…³é—­ç§é’¥åŠŸèƒ½
let å’¦è¿™æ˜¯æˆ‘çš„ç§é’¥å“ = "123456"; //è¿™æ˜¯ä½ çš„ç§é’¥ï¼Œæé«˜éšç§˜æ€§å®‰å…¨æ€§ï¼Œå°±ç®—åˆ«äººæ‰«åˆ°ä½ çš„åŸŸåä¹Ÿæ— æ³•é“¾æ¥ï¼Œå†ä¹Ÿä¸æ€•åˆ«äººè–…è¯·æ±‚æ•°äº†^_^

let éšè—è®¢é˜… = false //é€‰æ‹©æ˜¯å¦éšè—è®¢é˜…é¡µé¢ï¼Œfalseä¸éšè—ï¼Œtrueéšè—ï¼Œå½“ç„¶éšè—åè‡ªå·±ä¹Ÿæ— æ³•è®¢é˜…ï¼Œå› ä¸ºé…ç½®å›ºå®šï¼Œé€‚åˆè‡ªå·±è®¢é˜…åå°±éšè—ï¼Œé˜²æ­¢è¢«çˆ¬è®¢é˜…ï¼Œå¹¶ä¸”å¯ä»¥åˆ°ä¸‹æ–¹æ·»åŠ å˜²è®½è¯­^_^
let å˜²è®½è¯­ = "å“å‘€ä½ æ‰¾åˆ°äº†æˆ‘ï¼Œä½†æ˜¯æˆ‘å°±æ˜¯ä¸ç»™ä½ çœ‹ï¼Œæ°”ä¸æ°”ï¼Œå˜¿å˜¿å˜¿" //éšè—è®¢é˜…åï¼ŒçœŸå®çš„è®¢é˜…é¡µé¢å°±ä¼šæ˜¾ç¤ºè¿™æ®µè¯ï¼Œæƒ³å†™å•¥å†™å•¥

let æˆ‘çš„ä¼˜é€‰ = '104.19.61.169' //CFçš„èŠ‚ç‚¹ï¼Œå¡«åŸŸåæˆ–IPï¼Œå¥½çš„ä¼˜é€‰ä¸€ä¸ªå°±å¤Ÿäº†ï¼Œç”±äºCFcdnå¸¸è§„13ç«¯å£å¼€æ”¾ï¼Œå¯ä»¥ç”Ÿæˆå…¨ç«¯å£èŠ‚ç‚¹
let æˆ‘çš„ä¼˜é€‰IPV6 = '' //CFçš„IPV6èŠ‚ç‚¹ï¼Œå¡«åŸŸåæˆ–IPï¼Œå¥½çš„ä¼˜é€‰ä¸€ä¸ªå°±å¤Ÿäº†ï¼Œç”±äºCFcdnå¸¸è§„13ç«¯å£å¼€æ”¾ï¼Œå¯ä»¥ç”Ÿæˆå…¨ç«¯å£èŠ‚ç‚¹

let ç‰¹æ®Šä¼˜é€‰ = '' //éCFçš„èŠ‚ç‚¹ï¼Œå¡«åŸŸåæˆ–IPï¼Œç»“åˆä½ çš„åä»£ä¸€èµ·ä½¿ç”¨çš„è¯ï¼Œè¿™ä¸ªèŠ‚ç‚¹å¯ä»¥å®Œå…¨çš„å›ºå®šè½åœ°åœ°åŒºï¼Œä¾‹å¦‚åŒæ—¶éƒ½ä½¿ç”¨ç¾å›½çš„
let ç‰¹æ®Šä¼˜é€‰çš„ç«¯å£ = '443' //éCFçš„èŠ‚ç‚¹ç«¯å£
let éCFèŠ‚ç‚¹æ˜¯å¦æ‰“å¼€tls = 'true' //éCFçš„èŠ‚ç‚¹TLSå¼€å…³ï¼Œtrueï¼Œfalseï¼Œé€šç”¨è®¢é˜…æ­¤åŠŸèƒ½æ— æ•ˆï¼Œé»˜è®¤ä½¿ç”¨tls

let å¯ç”¨åä»£åŠŸèƒ½ = true //é€‰æ‹©æ˜¯å¦å¯ç”¨åä»£åŠŸèƒ½ï¼Œfalseï¼Œtrueï¼Œç°åœ¨ä½ å¯ä»¥è‡ªç”±çš„é€‰æ‹©æ˜¯å¦å¯ç”¨åä»£åŠŸèƒ½äº†
let åä»£IP = [
  'ts.hpc.tw',
] //åä»£IPæˆ–åŸŸåï¼Œåä»£IPç«¯å£ä¸€èˆ¬æƒ…å†µä¸‹ä¸ç”¨å¡«å†™ï¼Œå¦‚æœä½ éè¦ç”¨éæ ‡åä»£çš„è¯ï¼Œå¯ä»¥å¡«'ts.hpc.tw:443'è¿™æ ·

let å¯ç”¨SOCKS5åä»£ = false //å¦‚æœå¯ç”¨æ­¤åŠŸèƒ½ï¼ŒåŸå§‹åä»£å°†å¤±æ•ˆ
let æˆ‘çš„SOCKS5è´¦å· = 'TG:CMLiussss@socks5.serv00.090227.xyz:35555' //æ ¼å¼'è´¦å·:å¯†ç @åœ°å€:ç«¯å£'

let æˆ‘çš„èŠ‚ç‚¹åå­— = 'é€é¥å›ä¼˜é€‰' //è‡ªå·±çš„èŠ‚ç‚¹åå­—

let ä¼ªè£…ç½‘é¡µ = '' //å¡«å…¥ä¼ªè£…ç½‘é¡µï¼Œæ ¼å¼'www.youku.com'ï¼Œå¦‚æœä¸å¡«ï¼Œè„šæœ¬æœ¬èº«æœ‰ä¸ªå†…ç½®çš„ç®€å•ä»£ç†é¡µé¢ï¼Œå»ºè®®ç”¨å°ç«™ä¼ªè£…æˆ–è€…ç›´æ¥å†…ç½®ï¼Œæ¯”è¾ƒé è°±

let å¯ç”¨å…¨å±€åˆ†æ®µ = true //é€‰æ‹©æ˜¯å¦ä½¿ç”¨å…¨å±€åˆ†æ®µåŠŸèƒ½ï¼Œè¯•éªŒåŠŸèƒ½ï¼Œåˆ†æ®µä¼ è¾“å¯ä»¥é™ä½workerå‹åŠ›ï¼Œæå‡ä¼ è¾“ç¨³å®šæ€§ã€‚
let åˆ†æ®µå¤§å° = 1*1024; //åˆ†æ®µå¤§å°ï¼Œå»ºè®®ä¸è¦éšæ„ä¿®æ”¹ï¼Œè¿™æ˜¯æµ‹è¯•çš„æ¯”è¾ƒé€‚åˆçš„æ•°å€¼ã€‚
//////////////////////////////////////////////////////////////////////////ç½‘é¡µå…¥å£////////////////////////////////////////////////////////////////////////
export default {
  async fetch(è®¿é—®è¯·æ±‚, env) {
      const è¯»å–æˆ‘çš„è¯·æ±‚æ ‡å¤´ = è®¿é—®è¯·æ±‚.headers.get('Upgrade');
      const url = new URL(è®¿é—®è¯·æ±‚.url);
      if (!è¯»å–æˆ‘çš„è¯·æ±‚æ ‡å¤´ || è¯»å–æˆ‘çš„è¯·æ±‚æ ‡å¤´ !== 'websocket') {
          switch (url.pathname) {
              case `/${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š}`: {
                  const è®¢é˜…é¡µé¢ = ç»™æˆ‘è®¢é˜…é¡µé¢(å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š, è®¿é—®è¯·æ±‚.headers.get('Host'));
                  return new Response(`${è®¢é˜…é¡µé¢}`, {
                      status: 200,
                      headers: {
                          "Content-Type": "text/plain;charset=utf-8",
                      }
                  });
              }
              case `/${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š}/${è½¬ç }${è½¬ç 2}`: {
                  if (éšè—è®¢é˜…) {
                  return new Response (`${å˜²è®½è¯­}`, {
                  status: 200,
                  headers: {
                      "Content-Type": "text/plain;charset=utf-8",
                      }
                  });
                  } else {
                  const é€šç”¨é…ç½®æ–‡ä»¶ = ç»™æˆ‘é€šç”¨é…ç½®æ–‡ä»¶(è®¿é—®è¯·æ±‚.headers.get('Host'));
                  return new Response(`${é€šç”¨é…ç½®æ–‡ä»¶}`, {
                      status: 200,
                      headers: {
                          "Content-Type": "text/plain;charset=utf-8",
                      }
                  });
                }
              }
              case `/${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š}/${å°çŒ«}${å’ª}`: {
                  if (éšè—è®¢é˜…) {
                  return new Response (`${å˜²è®½è¯­}`, {
                  status: 200,
                  headers: {
                      "Content-Type": "text/plain;charset=utf-8",
                      }
                  });
                  } else {
                  const å°çŒ«å’ªé…ç½®æ–‡ä»¶ = ç»™æˆ‘å°çŒ«å’ªé…ç½®æ–‡ä»¶(è®¿é—®è¯·æ±‚.headers.get('Host'));
                  return new Response(`${å°çŒ«å’ªé…ç½®æ–‡ä»¶}`, {
                      status: 200,
                      headers: {
                          "Content-Type": "text/plain;charset=utf-8",
                      }
                  });
                }
              }
              default:
              if (ä¼ªè£…ç½‘é¡µ) {
                  url.hostname = ä¼ªè£…ç½‘é¡µ;
                  url.protocol = 'https:';
                  è®¿é—®è¯·æ±‚ = new Request(url, è®¿é—®è¯·æ±‚);
                  return fetch(è®¿é—®è¯·æ±‚);
              } else {
                  è®¿é—®è¯·æ±‚ = new Request(url, è®¿é—®è¯·æ±‚);
                  return ä»£ç†é¡µé¢(è®¿é—®è¯·æ±‚);
              }
          }
      } else if (è¯»å–æˆ‘çš„è¯·æ±‚æ ‡å¤´ === 'websocket'){
          FDIP = env.PROXYIP;
          æˆ‘çš„SOCKS5è´¦å· = env.SOCKS5 || æˆ‘çš„SOCKS5è´¦å·;
          å¯ç”¨SOCKS5åä»£ = (env.SOCKS5OPEN === 'true') ? true : (env.SOCKS5OPEN === 'false' ? false : å¯ç”¨SOCKS5åä»£);
          if (ç§é’¥å¼€å…³) {
          const éªŒè¯æˆ‘çš„ç§é’¥ = è®¿é—®è¯·æ±‚.headers.get('my-key')
          if (éªŒè¯æˆ‘çš„ç§é’¥ === å’¦è¿™æ˜¯æˆ‘çš„ç§é’¥å“) {
          return await å‡çº§WSè¯·æ±‚(è®¿é—®è¯·æ±‚);
          }
          }
          if (!ç§é’¥å¼€å…³) {
          return await å‡çº§WSè¯·æ±‚(è®¿é—®è¯·æ±‚);
          }
      }
  }
};
////////////////////////////////////////////////////////////////////////å†…ç½®ä»£ç†é¡µé¢//////////////////////////////////////////////////////////////////////
async function ä»£ç†é¡µé¢(request) {
  const url = new URL(request.url);
  if (url.pathname === '/' || url.pathname === '/proxy/') {
    return createLandingPage();
  }
  let actualUrlStr = url.pathname.replace("/proxy/", "") + url.search + url.hash;
  if (!actualUrlStr.startsWith('http://') && !actualUrlStr.startsWith('https://')) {
    actualUrlStr = 'https://' + actualUrlStr;
  }
  try {
    const actualUrl = new URL(actualUrlStr);
    const modifiedRequest = new Request(actualUrl, {
      headers: request.headers,
      method: request.method,
      body: (request.method === 'POST' || request.method === 'PUT') ? request.body : undefined,
      redirect: 'follow'
    });
    const response = await fetch(modifiedRequest);
    if (!response.ok) {
      throw new Error(`Fetch request failed with status: ${response.status}`);
    }
    const clonedResponseBody = await response.clone().text();
    const modifiedResponse = new Response(clonedResponseBody, response);
    modifiedResponse.headers.set('Access-Control-Allow-Origin', '*');
    modifiedResponse.headers.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE');
    modifiedResponse.headers.set('Access-Control-Allow-Headers', 'Content-Type, Authorization');
    return modifiedResponse;
  } catch (error) {
    return new Response(`Error: ${error.message}`, { status: 500 });
  }
  
}
function createLandingPage() {
  const html = `
  <!DOCTYPE html>
  <html lang="en">
  <head>
  <style>
  body {
    background-color: #fbfbfb;
    font-family: Arial, sans-serif;
  }
  h1 {
    text-align: center;
    color: #444;
  }
  .container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  form {
    background-color: white;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    padding: 2rem;
    border-radius: 8px;
  }
  input {
    display: block;
    width: 100%;
    font-size: 18px;
    padding: 15px;
    border: solid 1px #ccc;
    border-radius: 4px;
    margin: 1rem 0;
  }
  button {
    padding: 15px;
    background-color: #0288d1;
    color: white;
    font-size: 18px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
  }
  button:hover {
    background-color: #039BE5;
  }
</style>
    <meta charset="UTF-8">
    <title>ä»£ç†æœåŠ¡å™¨</title>
  </head>
  <body>
    <h1>è¾“å…¥æ‚¨æƒ³è®¿é—®çš„ç½‘å€ï¼Œæœ¬ç½‘é¡µä¸»è¦æ–¹ä¾¿æ‹‰åº“ç”¨ï¼Œå¹¶ä¸èƒ½ç§‘å­¦</h1>
    <form id="proxy-form">
      <input type="text" id="url" name="url" placeholder="https://ç¤ºä¾‹.com" required />
      <button type="submit">è®¿é—®</button>
    </form>
    <script>
      const form = document.getElementById('proxy-form');
      form.addEventListener('submit', event => {
        event.preventDefault();
        const input = document.getElementById('url');
        const actualUrl = input.value;
        const proxyUrl = '/proxy/' + actualUrl;
        location.href = proxyUrl;
      });
    </script>
  </body>
  </html>
  `;
  return new Response(html, {
    headers: { 'Content-Type': 'text/html' }
  });
}
////////////////////////////////////////////////////////////////////////è„šæœ¬ä¸»è¦æ¶æ„//////////////////////////////////////////////////////////////////////
//ç¬¬ä¸€æ­¥ï¼Œè¯»å–å’Œæ„å»ºåŸºç¡€è®¿é—®ç»“æ„
async function å‡çº§WSè¯·æ±‚(è®¿é—®è¯·æ±‚) {
  const åˆ›å»ºWSæ¥å£ = new WebSocketPair();
  const [å®¢æˆ·ç«¯, WSæ¥å£] = Object.values(åˆ›å»ºWSæ¥å£);
  WSæ¥å£.accept();
  const è¯»å–æˆ‘çš„åŠ å¯†è®¿é—®å†…å®¹æ•°æ®å¤´ = è®¿é—®è¯·æ±‚.headers.get('sec-websocket-protocol') || '';
  const è¯»å–è§£å¯†åçš„WSæ•°æ®æµ = await åˆ›å»ºæˆ‘çš„WSæœåŠ¡(WSæ¥å£, è¯»å–æˆ‘çš„åŠ å¯†è®¿é—®å†…å®¹æ•°æ®å¤´);
  let è¿œç¨‹ä¼ è¾“ = { value: null, };
  è¯»å–è§£å¯†åçš„WSæ•°æ®æµ.pipeTo(new WritableStream({
      async write(VLæ•°æ®) {
          if (è¿œç¨‹ä¼ è¾“.value) {
              const ä¼ è¾“æ•°æ® = è¿œç¨‹ä¼ è¾“.value.writable.getWriter();
              if (å¯ç”¨å…¨å±€åˆ†æ®µ) {
                  await å‘å¾€TCPç›®æ ‡çš„åˆ†å—ä¼ è¾“(ä¼ è¾“æ•°æ®, VLæ•°æ®);
              } else {
                  await ä¼ è¾“æ•°æ®.write(VLæ•°æ®);
              }
              ä¼ è¾“æ•°æ®.releaseLock();
              return;
              }
          const è§£æVLæ•°æ® = await è§£æVLæ ‡å¤´(VLæ•°æ®); //è§£æVLè®¿é—®è¯·æ±‚å’Œæ•°æ®ï¼ŒåŒ…æ‹¬ç›®æ ‡åœ°å€[å¦‚è°·æ­Œæ²¹ç®¡ç­‰]ï¼Œç›®æ ‡ç«¯å£ï¼Œæ•°æ®å†…å®¹ç­‰
          if (è§£æVLæ•°æ® === null) {
            await è¯»å–è§£å¯†åçš„WSæ•°æ®æµ.cancel();
            WSæ¥å£.close()
            return new Response('Forbidden', { status: 403 });
          }
          const { è¯†åˆ«åœ°å€ç±»å‹, è®¿é—®åœ°å€ = '', è®¿é—®ç«¯å£ = '', åˆ›å»ºåŸå§‹æ•°æ®ç´¢å¼•, } = è§£æVLæ•°æ®;
          const å†™å…¥æ•°æ®è¯·æ±‚ = VLæ•°æ®.slice(åˆ›å»ºåŸå§‹æ•°æ®ç´¢å¼•);
          TCPæ¡æ‰‹åè®®(è¿œç¨‹ä¼ è¾“, è¯†åˆ«åœ°å€ç±»å‹, è®¿é—®åœ°å€, è®¿é—®ç«¯å£, å†™å…¥æ•°æ®è¯·æ±‚, WSæ¥å£);
      },
  }));
  return new Response(null, {
      status: 101,
      webSocket: å®¢æˆ·ç«¯,
  });
}
async function å‘å¾€TCPç›®æ ‡çš„åˆ†å—ä¼ è¾“(ä¼ è¾“æ•°æ®, VLæ•°æ®, offset = 0) {
  while (offset < VLæ•°æ®.byteLength) {
    const åˆ†æ®µæ•°æ®å— = VLæ•°æ®.slice(offset, offset + åˆ†æ®µå¤§å°);
    await ä¼ è¾“æ•°æ®.write(åˆ†æ®µæ•°æ®å—);
    await new Promise(resolve => setTimeout(resolve, 0));
    offset += åˆ†æ®µå¤§å°;
  }
}
//ç¬¬äºŒæ­¥ï¼Œè§£å¯†WSè®¿é—®å†…å®¹ï¼Œå»ºç«‹WSæœåŠ¡ç›‘å¬çŠ¶æ€
async function åˆ›å»ºæˆ‘çš„WSæœåŠ¡(WSæ¥å£, è§£å¯†æˆ‘çš„è®¿é—®æ•°æ®) {
  const æ•°æ®æµ = new ReadableStream({
      async start(æ§åˆ¶å™¨) {
          WSæ¥å£.addEventListener('message', (event) => { //ç›‘å¬WSæ¥å£æ•°æ®å¹¶å‘é€ç»™ç›®æ ‡æœåŠ¡å™¨
              const message = event.data
              æ§åˆ¶å™¨.enqueue(message)
          });
          WSæ¥å£.addEventListener('close', () => { //ç›‘å¬å®¢æˆ·ç«¯WSæ¥å£å…³é—­ä¿¡æ¯ï¼Œç»“æŸæµä¼ è¾“
              æ§åˆ¶å™¨.close();
              return;
          });
          WSæ¥å£.addEventListener('error', () => { //ç›‘å¬å®¢æˆ·ç«¯WSæ¥å£å¼‚å¸¸ä¿¡æ¯ï¼Œç»“æŸæµä¼ è¾“
              æ§åˆ¶å™¨.close();
              return;
          });
          const {earlyData} = await ä½¿ç”¨64ä½åŠ è§£å¯†(è§£å¯†æˆ‘çš„è®¿é—®æ•°æ®); //è§£å¯†ç›®æ ‡è®¿é—®æ•°æ®ï¼Œä¼ é€’ç»™TCPæ¡æ‰‹è¿›ç¨‹
          if (earlyData) {
              æ§åˆ¶å™¨.enqueue(earlyData);
          };
      }
  });
  return æ•°æ®æµ;
}
async function ä½¿ç”¨64ä½åŠ è§£å¯†(è¿˜åŸæ··æ·†å­—ç¬¦) {
  è¿˜åŸæ··æ·†å­—ç¬¦ = è¿˜åŸæ··æ·†å­—ç¬¦.replace(/-/g, '+').replace(/_/g, '/');
  const è§£å¯†æ•°æ® = atob(è¿˜åŸæ··æ·†å­—ç¬¦);
  const è§£å¯†_ä½ _ä¸ª_ä¸å’š_å’™_å’šå‘› = Uint8Array.from(è§£å¯†æ•°æ®, (c) => c.charCodeAt(0));
  return { earlyData: è§£å¯†_ä½ _ä¸ª_ä¸å’š_å’™_å’šå‘›.buffer };
}
//ç¬¬ä¸‰æ­¥ï¼Œè§£è¯»VLåè®®æ•°æ®ï¼Œå»ºç«‹å®¢æˆ·ç«¯VL--workersçš„å®Œæ•´ç´¢å¼•é€šé“
async function è§£æVLæ ‡å¤´(VLæ•°æ®) {
    if (éªŒè¯VLçš„å¯†é’¥(new Uint8Array(VLæ•°æ®.slice(1, 17))) !== å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥) {
		return null;
	  }
  	const è·å–æ•°æ®å®šä½ = new Uint8Array(VLæ•°æ®.slice(17, 18))[0];
  	const æå–ç«¯å£ç´¢å¼• = 18 + è·å–æ•°æ®å®šä½ + 1;
  	const å»ºç«‹ç«¯å£ç¼“å­˜ = VLæ•°æ®.slice(æå–ç«¯å£ç´¢å¼•, æå–ç«¯å£ç´¢å¼• + 2);
  	const è®¿é—®ç«¯å£ = new DataView(å»ºç«‹ç«¯å£ç¼“å­˜).getUint16(0);
  	const æå–åœ°å€ç´¢å¼• = æå–ç«¯å£ç´¢å¼• + 2;
  	const å»ºç«‹åœ°å€ç¼“å­˜ = new Uint8Array(VLæ•°æ®.slice(æå–åœ°å€ç´¢å¼•, æå–åœ°å€ç´¢å¼• + 1));
  	const è¯†åˆ«åœ°å€ç±»å‹ = å»ºç«‹åœ°å€ç¼“å­˜[0];
  	let åœ°å€é•¿åº¦ = 0;
  	let åœ°å€ä¿¡æ¯ = '';
  	let åœ°å€ä¿¡æ¯ç´¢å¼• = æå–åœ°å€ç´¢å¼• + 1;
  	switch (è¯†åˆ«åœ°å€ç±»å‹) {
  	  	case 1:
  	  	    åœ°å€é•¿åº¦ = 4;
  	  	    åœ°å€ä¿¡æ¯ = new Uint8Array(
                VLæ•°æ®.slice(åœ°å€ä¿¡æ¯ç´¢å¼•, åœ°å€ä¿¡æ¯ç´¢å¼• + åœ°å€é•¿åº¦)
  	  	    ).join('.');
  	  	    break;
  	  	case 2:
  	  	    åœ°å€é•¿åº¦ = new Uint8Array(
                VLæ•°æ®.slice(åœ°å€ä¿¡æ¯ç´¢å¼•, åœ°å€ä¿¡æ¯ç´¢å¼• + 1)
  	  	    )[0];
  	  	    åœ°å€ä¿¡æ¯ç´¢å¼• += 1;
  	  	    åœ°å€ä¿¡æ¯ = new TextDecoder().decode(
                VLæ•°æ®.slice(åœ°å€ä¿¡æ¯ç´¢å¼•, åœ°å€ä¿¡æ¯ç´¢å¼• + åœ°å€é•¿åº¦)
  	  	    );
  	  	    break;
  	  	case 3:
  	  	    åœ°å€é•¿åº¦ = 16;
  	  	    const dataView = new DataView(
                VLæ•°æ®.slice(åœ°å€ä¿¡æ¯ç´¢å¼•, åœ°å€ä¿¡æ¯ç´¢å¼• + åœ°å€é•¿åº¦)
  	  	    );
  	  	    const ipv6 = [];
  	  	    for (let i = 0; i < 8; i++) {
  	  	        ipv6.push(dataView.getUint16(i * 2).toString(16));
  	  	    }
  	  	    åœ°å€ä¿¡æ¯ = ipv6.join(':');
  	  	    break;
        default:
            return null;
  	}
  	return {
        è¯†åˆ«åœ°å€ç±»å‹,
  	  	è®¿é—®åœ°å€: åœ°å€ä¿¡æ¯,
  	  	è®¿é—®ç«¯å£,
  	  	åˆ›å»ºåŸå§‹æ•°æ®ç´¢å¼•: åœ°å€ä¿¡æ¯ç´¢å¼• + åœ°å€é•¿åº¦,
  	};
}
function éªŒè¯VLçš„å¯†é’¥(arr, offset = 0) {
	const uuid = æå–VLçš„å¯†é’¥(arr, offset);
	return uuid;
}
function æå–VLçš„å¯†é’¥(arr, offset = 0) {
	return (è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 0]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 1]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 2]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 3]] + "-" +
		è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 4]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 5]] + "-" +
		è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 6]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 7]] + "-" +
		è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 8]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 9]] + "-" +
		è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 10]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 11]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 12]] +
		è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 13]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 14]] + è½¬æ¢å¯†é’¥æ ¼å¼[arr[offset + 15]]).toLowerCase();
}
const è½¬æ¢å¯†é’¥æ ¼å¼ = [];
for (let i = 0; i < 256; ++i) {
	è½¬æ¢å¯†é’¥æ ¼å¼.push((i + 256).toString(16).slice(1));
}
//ç¬¬å››æ­¥ï¼Œå»ºç«‹VL--workers--å¤–ç½‘çš„TCPæ¡æ‰‹åè®®
async function TCPæ¡æ‰‹åè®®(è¿œç¨‹ä¼ è¾“, è¯†åˆ«åœ°å€ç±»å‹, è®¿é—®åœ°å€, è®¿é—®ç«¯å£, å†™å…¥æ•°æ®è¯·æ±‚, WSæ¥å£) {
  åä»£æ•°ç»„ = await è·å–åä»£IPåˆ—è¡¨();
  const ç›®æ ‡TCPæ¥å£ = await åˆ›å»ºTCPæ¡æ‰‹(è®¿é—®åœ°å€, è®¿é—®ç«¯å£);
  TCPæ¥å£è®¿é—®WS(ç›®æ ‡TCPæ¥å£, WSæ¥å£, SOCKS5åä»£å…œåº•, åŸå§‹åä»£å…œåº•);
  async function SOCKS5åä»£å…œåº•(){
    const åä»£SOCKS5æ¥å£ = await åˆ›å»ºSOCKS5æ¡æ‰‹(è®¿é—®åœ°å€, è®¿é—®ç«¯å£);
    if (åä»£SOCKS5æ¥å£ === null) {
      WSæ¥å£.close(1006);
      return;
    }
    TCPæ¥å£è®¿é—®WS(åä»£SOCKS5æ¥å£, WSæ¥å£, SOCKS5åä»£å…œåº•, åŸå§‹åä»£å…œåº•);
    return;
  }
  async function åŸå§‹åä»£å…œåº•() {
    let [åä»£IPåœ°å€, åä»£IPç«¯å£] = åä»£IPåº“.split(':');
    const åä»£TCPæ¥å£ = await åˆ›å»ºTCPæ¡æ‰‹(åä»£IPåœ°å€, åä»£IPç«¯å£ || è®¿é—®ç«¯å£);
    TCPæ¥å£è®¿é—®WS(åä»£TCPæ¥å£, WSæ¥å£, SOCKS5åä»£å…œåº•, åŸå§‹åä»£å…œåº•);
    return;
  }
  async function åˆ›å»ºTCPæ¡æ‰‹(åœ°å€, ç«¯å£) {
    const TCPæ¥å£ = connect({ hostname: åœ°å€, port: ç«¯å£ });
    è¿œç¨‹ä¼ è¾“.value = TCPæ¥å£;
    const ä¼ è¾“æ•°æ® = TCPæ¥å£.writable.getWriter();
    await ä¼ è¾“æ•°æ®.write(å†™å…¥æ•°æ®è¯·æ±‚);
    ä¼ è¾“æ•°æ®.releaseLock();
    return TCPæ¥å£;
  }
  async function åˆ›å»ºSOCKS5æ¡æ‰‹(åœ°å€, ç«¯å£) {
    const SOCKS5æ¥å£ = await åˆ›å»ºSOCKS5æ¥å£(è¯†åˆ«åœ°å€ç±»å‹, åœ°å€, ç«¯å£)
    if (SOCKS5æ¥å£ === null){
      return null;
    }
    è¿œç¨‹ä¼ è¾“.value = SOCKS5æ¥å£;
    const ä¼ è¾“æ•°æ® = SOCKS5æ¥å£.writable.getWriter();
    await ä¼ è¾“æ•°æ®.write(å†™å…¥æ•°æ®è¯·æ±‚);
    ä¼ è¾“æ•°æ®.releaseLock();
    return SOCKS5æ¥å£;
  }
  return;
}
//ç¬¬äº”æ­¥ï¼Œè¿›è¡ŒVL--workers--å¤–ç½‘çš„WSæ•°æ®ä¼ è¾“ï¼ŒTCPæ¡æ‰‹æˆåŠŸåå»ºç«‹æœ€ç»ˆçš„WSæ•°æ®ä¼ è¾“é€šé“
async function TCPæ¥å£è®¿é—®WS(TCPæ¥å£, WSæ¥å£, SOCKS5åä»£å…œåº•, åŸå§‹åä»£å…œåº•) {
  let VLæ ‡å¤´ = new Uint8Array([0, 0]);
  let ä¼ å…¥æ•°æ® = false;
  await TCPæ¥å£.readable.pipeTo(new WritableStream({ 
    async write(VLæ•°æ®) {
        ä¼ å…¥æ•°æ® = true;
        if (VLæ ‡å¤´ && WSæ¥å£.readyState === 1) {
            await WSæ¥å£.send(await new Blob([VLæ ‡å¤´, VLæ•°æ®]).arrayBuffer());
            VLæ ‡å¤´ = null;
        } else {
            if (å¯ç”¨å…¨å±€åˆ†æ®µ) {
                await WSå›ä¼ çš„åˆ†å—ä¼ è¾“(WSæ¥å£, VLæ•°æ®);
            } else {
                await WSæ¥å£.send(VLæ•°æ®);
            }
        }
    },
  }));
  if (å¯ç”¨åä»£åŠŸèƒ½ && ä¼ å…¥æ•°æ® === false) {
    TCPæ¥å£.close();
      if (å¯ç”¨SOCKS5åä»£) {
        å¯ç”¨SOCKS5åä»£ = false;
        SOCKS5åä»£å…œåº•();
        return;
      }
      if (åä»£æ•°ç»„.length > 0 && åä»£IPåº“è®¡æ•°å™¨ < åä»£æ•°ç»„.length) {
        åä»£IPåº“ = åä»£æ•°ç»„[åä»£IPåº“è®¡æ•°å™¨];
        åä»£IPåº“è®¡æ•°å™¨++;
        åŸå§‹åä»£å…œåº•();
        return;
      }
  }
  TCPæ¥å£.close();
  æ£€æŸ¥å¹¶å…³é—­WSæ¥å£(WSæ¥å£)
  return;
}
async function WSå›ä¼ çš„åˆ†å—ä¼ è¾“(WSæ¥å£, VLæ•°æ®, offset = 0) {
  while (offset < VLæ•°æ®.byteLength) {
    const åˆ†æ®µæ•°æ®å— = VLæ•°æ®.slice(offset, offset + åˆ†æ®µå¤§å°);
    await WSæ¥å£.send(åˆ†æ®µæ•°æ®å—);
    await new Promise(resolve => setTimeout(resolve, 0));
    offset += åˆ†æ®µå¤§å°;
  }
}
async function æ£€æŸ¥å¹¶å…³é—­WSæ¥å£(WSæ¥å£, æœ€å¤§ç­‰å¾…æ—¶é—´ = 1000, æ£€æŸ¥é—´éš” = 50) {
  if (WSæ¥å£.bufferedAmount === 0) {
    WSæ¥å£.close(1000);
  } else {
    let åˆå§‹æ—¶é—´ = 0;
    while (åˆå§‹æ—¶é—´ < æœ€å¤§ç­‰å¾…æ—¶é—´) {
      await new Promise(resolve => setTimeout(resolve, æ£€æŸ¥é—´éš”));
      if (WSæ¥å£.bufferedAmount === 0) {
        WSæ¥å£.close(1000);
        return;
      }
      åˆå§‹æ—¶é—´ += æ£€æŸ¥é—´éš”;
    }
    WSæ¥å£.close(1000);
  }
  return;
}
let FDIP, åä»£IPåº“, åä»£IPåº“è®¡æ•°å™¨ = 0;
let åä»£æ•°ç»„ = [];
async function è·å–åä»£IPåˆ—è¡¨() {
  if (FDIP) {
  åä»£æ•°ç»„ = FDIP.split('\n').map(line => line.trim()).filter(line => line); 
  }
  const æ·»åŠ åä»£IP = Array.isArray(åä»£IP) ? åä»£IP : [åä»£IP];
  åä»£æ•°ç»„.unshift(...æ·»åŠ åä»£IP);
  return åä»£æ•°ç»„;
}
//////////////////////////////////////////////////////////////////////////SOCKS5éƒ¨åˆ†//////////////////////////////////////////////////////////////////////
async function åˆ›å»ºSOCKS5æ¥å£(è¯†åˆ«åœ°å€ç±»å‹, è®¿é—®åœ°å€, è®¿é—®ç«¯å£) {
	const { username, password, hostname, port } = await è·å–SOCKS5è´¦å·(æˆ‘çš„SOCKS5è´¦å·);
  const SOCKS5æ¥å£ = connect({ hostname, port });
	const writer = SOCKS5æ¥å£.writable.getWriter();
	const reader = SOCKS5æ¥å£.readable.getReader();
  if (!writer || !reader) {
    return å…³é—­æ¥å£å¹¶é€€å‡º();
  }
  const socksGreeting = new Uint8Array([5, 2, 0, 2]);
  await writer.write(socksGreeting);
	const encoder = new TextEncoder();
	let res = (await reader.read()).value;
	if (res[0] !== 0x05) {
    return å…³é—­æ¥å£å¹¶é€€å‡º();
	}
	if (res[1] === 0xff) {
    return å…³é—­æ¥å£å¹¶é€€å‡º();
	}
	if (res[1] === 0x02) {
		if (!username || !password) {
      return å…³é—­æ¥å£å¹¶é€€å‡º();
		}
		const authRequest = new Uint8Array([
			1,                   // è®¤è¯å­åè®®ç‰ˆæœ¬
			username.length,    // ç”¨æˆ·åé•¿åº¦
			...encoder.encode(username), // ç”¨æˆ·å
			password.length,    // å¯†ç é•¿åº¦
			...encoder.encode(password)  // å¯†ç 
		]);
		await writer.write(authRequest);
		res = (await reader.read()).value;
		if (res[0] !== 0x01 || res[1] !== 0x00) {
      return å…³é—­æ¥å£å¹¶é€€å‡º();
		}
	}
	let DSTADDR;	// DSTADDR = ATYP + DST.ADDR
	switch (è¯†åˆ«åœ°å€ç±»å‹) {
		case 1: // IPv4
			DSTADDR = new Uint8Array(
				[1, ...è®¿é—®åœ°å€.split('.').map(Number)]
			);
			break;
		case 2: // åŸŸå
			DSTADDR = new Uint8Array(
				[3, è®¿é—®åœ°å€.length, ...encoder.encode(è®¿é—®åœ°å€)]
			);
			break;
		case 3: // IPv6
			DSTADDR = new Uint8Array(
				[4, ...è®¿é—®åœ°å€.split(':').flatMap(x => [parseInt(x.slice(0, 2), 16), parseInt(x.slice(2), 16)])]
			);
			break;
		default:
      return å…³é—­æ¥å£å¹¶é€€å‡º();
	}
	const socksRequest = new Uint8Array([5, 1, 0, ...DSTADDR, è®¿é—®ç«¯å£ >> 8, è®¿é—®ç«¯å£ & 0xff]);
	await writer.write(socksRequest);
	res = (await reader.read()).value;
	writer.releaseLock();
	reader.releaseLock();
	return SOCKS5æ¥å£;
  function å…³é—­æ¥å£å¹¶é€€å‡º(){ //å…³é—­SOCKS5æ¥å£ï¼Œé˜²æ­¢å¡æ­»
    if (writer) {
      writer.releaseLock();
    }
    if (reader) {
      reader.releaseLock();
    }
    if (SOCKS5æ¥å£) {
      SOCKS5æ¥å£.close();
    }
    return null;
  }
}
async function è·å–SOCKS5è´¦å·(SOCKS5) {
  const [latter, former] = SOCKS5.split("@").reverse();
  let username, password, hostname, port;
  if (former) {
    const formers = former.split(":");
    username = formers[0];
    password = formers[1];
  }
  const latters = latter.split(":");
  port = Number(latters.pop());
  hostname = latters.join(":");
  return { username, password, hostname, port };
}
//////////////////////////////////////////////////////////////////////////è®¢é˜…é¡µé¢////////////////////////////////////////////////////////////////////////
let è½¬ç  = 'vl', è½¬ç 2 = 'ess', ç¬¦å· = '://', å°çŒ« = 'cla', å’ª = 'sh', æˆ‘çš„ç§é’¥;
if (ç§é’¥å¼€å…³) {
  æˆ‘çš„ç§é’¥ = `my-key: ${å’¦è¿™æ˜¯æˆ‘çš„ç§é’¥å“}`
} else {
  æˆ‘çš„ç§é’¥ = ""
}
function ç»™æˆ‘è®¢é˜…é¡µé¢(å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š, hostName) {
return `
1ã€æœ¬workerçš„ç§é’¥åŠŸèƒ½åªæ”¯æŒ${å°çŒ«}${å’ª}ï¼Œä»…open${å°çŒ«}${å’ª}å’Œ${å°çŒ«}${å’ª} metaæµ‹è¯•è¿‡ï¼Œå…¶ä»–${å°çŒ«}${å’ª}ç±»è½¯ä»¶è‡ªè¡Œæµ‹è¯•
2ã€è‹¥ä½¿ç”¨é€šç”¨è®¢é˜…è¯·å…³é—­ç§é’¥åŠŸèƒ½
3ã€å…¶ä»–éœ€æ±‚è‡ªè¡Œç ”ç©¶
é€šç”¨çš„ï¼šhttps${ç¬¦å·}${hostName}/${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š}/${è½¬ç }${è½¬ç 2}
çŒ«å’ªçš„ï¼šhttps${ç¬¦å·}${hostName}/${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„IDå•Š}/${å°çŒ«}${å’ª}
`;
}
function ç»™æˆ‘é€šç”¨é…ç½®æ–‡ä»¶(hostName) {
const ç‰¹æ®Šé•¿é“¾æ¥Links = btoa(`
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:443?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:8443?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:2053?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:2083?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:2087?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰}:2096?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:443?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:8443?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:2053?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:2083?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:2087?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${æˆ‘çš„ä¼˜é€‰IPV6}:2096?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${ç‰¹æ®Šä¼˜é€‰}:${ç‰¹æ®Šä¼˜é€‰çš„ç«¯å£}?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
${è½¬ç }${è½¬ç 2}${ç¬¦å·}${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}@${hostName}:443?encryption=none&security=tls&type=ws&host=${hostName}&path=%2F%3Fed%3D2560
`);
if (ç§é’¥å¼€å…³) {
  return `è¯·å…ˆå…³é—­ç§é’¥åŠŸèƒ½`
}else {
  return `${ç‰¹æ®Šé•¿é“¾æ¥Links}`
}
}
function ç»™æˆ‘å°çŒ«å’ªé…ç½®æ–‡ä»¶(hostName) {
return `
dns:
  nameserver:
    - 119.29.29.29
    - 223.5.5.5
  fallback:
    - 8.8.8.8
    - tls://dns.google
    - 2001:4860:4860::8888
proxies:
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-443
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 443
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-8443
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 8443
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2053
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 2053
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2083
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 2083
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2087
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 2087
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2096
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰}
  port: 2096
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-443
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 443
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-8443
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 8443
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2053
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 2053
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2083
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 2083
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2087
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 2087
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2096
  type: ${è½¬ç }${è½¬ç 2}
  server: ${æˆ‘çš„ä¼˜é€‰IPV6}
  port: 2096
  ip-version: ipv6 # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-éCFèŠ‚ç‚¹
  type: ${è½¬ç }${è½¬ç 2}
  server: ${ç‰¹æ®Šä¼˜é€‰}
  port: ${ç‰¹æ®Šä¼˜é€‰çš„ç«¯å£}
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: ${éCFèŠ‚ç‚¹æ˜¯å¦æ‰“å¼€tls}
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV4èŠ‚ç‚¹
  type: ${è½¬ç }${è½¬ç 2}
  server: ${hostName}
  port: 443
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
- name: ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV6èŠ‚ç‚¹
  type: ${è½¬ç }${è½¬ç 2}
  server: ${hostName}
  port: 443
  ip-version: ipv6-prefer  # ip-versionè®¾ç½®ï¼Œå¯ä»¥è‡ªå®šä¹‰å¼ºåˆ¶èµ°ipv4æˆ–ipv6ï¼Œipv6-preferåˆ™æ˜¯åŒæ ˆä¼˜å…ˆèµ°ipv6
  uuid: ${å“å‘€å‘€è¿™æ˜¯æˆ‘çš„VLå¯†é’¥}
  udp: false
  tls: true
  network: ws
  ws-opts:
    path: "/?ed=2560"
    headers:
      Host: ${hostName}
      ${æˆ‘çš„ç§é’¥}
proxy-groups:
- name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  type: select
  proxies:
    - tlsè´Ÿè½½å‡è¡¡
    - IPV6-tlsè´Ÿè½½å‡è¡¡
    - è‡ªåŠ¨é€‰æ‹©
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2096
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2096
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-éCFèŠ‚ç‚¹
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV4èŠ‚ç‚¹
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV6èŠ‚ç‚¹
- name: è‡ªåŠ¨é€‰æ‹©
  type: url-test
  url: http://www.gstatic.com/generate_204
  interval: 300
  tolerance: 50
  proxies:
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2096
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2096
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-éCFèŠ‚ç‚¹
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV4èŠ‚ç‚¹
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-å¤‡ç”¨IPV6èŠ‚ç‚¹
- name: tlsè´Ÿè½½å‡è¡¡
  type: load-balance
  url: http://www.gstatic.com/generate_204
  interval: 300
  proxies:
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-tls-2096
- name: IPV6-tlsè´Ÿè½½å‡è¡¡
  type: load-balance
  url: http://www.gstatic.com/generate_204
  interval: 300
  proxies:
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-8443
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2053
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2083
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2087
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-IPV6-tls-2096
- name: éCFèŠ‚ç‚¹
  type: select
  proxies:
    - ${æˆ‘çš„èŠ‚ç‚¹åå­—}-éCFèŠ‚ç‚¹
- name: æ¼ç½‘ä¹‹é±¼
  type: select
  proxies:
    - DIRECT
    - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    - éCFèŠ‚ç‚¹
rules:
# ç­–ç•¥è§„åˆ™ï¼Œéƒ¨åˆ†è§„åˆ™éœ€æ‰“å¼€${å°çŒ«}${å’ª} mateçš„ä½¿ç”¨geoip datç‰ˆæ•°æ®åº“ï¼Œæ¯”å¦‚TGè§„åˆ™å°±éœ€è¦ï¼Œæˆ–è€…è‡ªå®šä¹‰geoipçš„è§„åˆ™è®¢é˜…
# è¿™æ˜¯geoipçš„è§„åˆ™è®¢é˜…é“¾æ¥ï¼Œhttps://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb
# GPTè§„åˆ™
- DOMAIN-KEYWORD,openai,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,AI.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,cdn.auth0.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,openaiapi-site.azureedge.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,opendns.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,bing.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,civitai.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN,bard.google.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN,ai.google.dev,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN,gemini.google.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,googleapis.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,sentry.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,intercom.io,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,featuregates.org,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,statsigapi.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,claude.ai,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,Anthropic.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,opera-api.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,aistudio.google.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,auth0.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,challenges.cloudflare.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,chatgpt.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,client-api.arkoselabs.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,events.statsigapi.net,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,identrust.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,intercomcdn.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,oaistatic.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,oaiusercontent.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,openai.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
- DOMAIN-SUFFIX,stripe.com,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
# GPTè§„åˆ™
# - GEOSITE,category-ads,REJECT #ç®€å•å¹¿å‘Šè¿‡æ»¤è§„åˆ™ï¼Œè¦å¢åŠ è§„åˆ™æ•°å¯ä½¿ç”¨category-ads-all
- GEOSITE,cn,DIRECT #å›½å†…åŸŸåç›´è¿è§„åˆ™
- GEOIP,CN,DIRECT,no-resolve #å›½å†…IPç›´è¿è§„åˆ™
- GEOSITE,cloudflare,DIRECT #CFåŸŸåç›´è¿è§„åˆ™
- GEOIP,CLOUDFLARE,DIRECT,no-resolve #CFIPç›´è¿è§„åˆ™
- GEOSITE,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹© #GFWåŸŸåè§„åˆ™
- GEOSITE,google,ğŸš€ èŠ‚ç‚¹é€‰æ‹© #GOOGLEåŸŸåè§„åˆ™
- GEOIP,GOOGLE,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,no-resolve #GOOGLE IPè§„åˆ™
- GEOSITE,netflix,ğŸš€ èŠ‚ç‚¹é€‰æ‹© #å¥ˆé£åŸŸåè§„åˆ™
- GEOIP,NETFLIX,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,no-resolve #å¥ˆé£IPè§„åˆ™
- GEOSITE,telegram,ğŸš€ èŠ‚ç‚¹é€‰æ‹© #TGåŸŸåè§„åˆ™
- GEOIP,TELEGRAM,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,no-resolve #TG IPè§„åˆ™
- MATCH,æ¼ç½‘ä¹‹é±¼
`
}
